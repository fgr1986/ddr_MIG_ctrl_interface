#README for Test-Bench using DDR Models
## ddr_MIG7_ctrl_interface: DDR Interface and Control Project

### Fernando García-Redondo, fgarcia@die.upm.es, fernando.garca@gmail.com
### LSI, Universidad Politécnica de Madrid
### To be used in VHDL Laboratory at LSI, UPM

Created for Vivado 2017.2

# Description
We have included the ddr2 model and **sim_tb_top.v/example_top.vhdl** files.
This files have been altered from the originals ---Xilinx example project for MIG instances.

Please, check timing parameters (ref clk, system clk etc.) in **sim_tb_top.v** file.

# Calibration signal
You can see how for simulation stages, the calibration signal is driven to the
ddr2 models by port *init_calib_complete_o* in **memory_ctrl.vhdl**.
For the 300Mhz(ddr clk)/200Mhz (input clk), 4:1 implementation,
calibration during simulation takes usualy **110us**.

This signal does not need to be driven out in implementation stages.

# Manual creation of simulation files
You can obviate the provided files and use those generated by MIG.
1. Configure DDR IP instance using MIG (Xilinx) tool.
Later, (right-click) open the IP example design project.
This will create another project with an example to run the DDR.
**We are going to adapt this project to include our models that we want to simulate**.
2. Locate **sim_tb_top.v** file, **this is the top file of the Test-Bench**.
3. Locate **example_top.vhd** file (this file is refered by the top file **sim_tb_top.v**). To ease the task, you may find attached in this folder an example **example_top.vhd** file, related to this repository project.
4. Alter **example_top.vhd** file so that it instantiates the module to be simulated.
5. Check timing parameters (ref clk, system clk etc.) in **sim_tb_top.v** file.
6. Simulate the customized example project.

# Target
Nexys 4 DDR, by Digilent

# TODO
* Everything
